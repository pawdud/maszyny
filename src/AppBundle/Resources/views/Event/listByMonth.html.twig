{% extends 'AppBundle::layout.html.twig' %}

{% block content_inner %}



<a href="{{ path('listByDay', {'user_id': '4'}) }}">dzień</a><br />
<a href="{{ path('listByWeek', {'user_id': '4'}) }}">tydzień</a><br />
<a href="{{ path('listByMonth', {'user_id': '4'}) }}">miesiąc</a><br />

<a href="{{previousUrl}}">poprzedni miesiąc </a>
{{current|date('M')}}
<a href="{{nextUrl}}"> kolejny poprzedni miesiąc </a><br />



<div id="calendar"></div>
<script>
    $(document).ready(function() {

        $('#calendar').fullCalendar({
            header: {
                left: '',
                center: '',
                right: ''
            },
            firstDay: 1,
            defaultDate: '{{current|date('Y-m-d')}}',
            defaultView: 'month',
            editable: true,
            eventLimit: true,
            events: [
                    {% for event in events %}
                {
                    title: '{{event.getTechnology2part.getPartId.getName}} - {{event.getTechnology2part.getTechnologyId.getName}}',
                                        start: '{{event.GetTimeStart|date("Y-m-d")}}T{{event.GetTimeStart|date("H:i:s")}}',
                                                            end: '{{event.GetTimeEnd|date("Y-m-d")}}T{{event.GetTimeEnd|date("H:i:s")}}'
                                                                            },
{%endfor%}
                                                                        ]
                                                                    });
                                                                });
</script>

{% endblock %}


